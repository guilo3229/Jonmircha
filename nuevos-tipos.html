<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nuevos tipos de Datos en Javascript</title>
</head>
<h1>Nuevos Tipos De Datos en Javascript</h1>
<body>

   <script> 
    const persona = {
        nombre: "",
        apellido:"",
        edad: 0
    }
    const manejador ={
        // en este set podemos meter todas las validaciones que queramos, si no las cumple no se añadrian aunque  lo pongamos de forma normal
        set(obj,prop,valor){
            // object.keys me da la lista de las keys que tiene el objeto y el indexof nos va indicar si existe alugna ,devuelve un -1 cuandoe s falso lo que esta buscando en la lsita de keys  existe la prop que metemos es decir busca en la lsita keys el indexof
            if(Object.keys(obj).indexOf(prop) === -1){
                return console.error(`La propiedad "${prop}"  no existe en el objeto persona `)
            }

            if(
            (prop === "nombre" || prop === "apellido") && 
            !(/^[A-Za-zÑñÁáÉéÍíÓóÚúÜü\s]+$/g.test(valor))
            // si no cumple el valor del objeto quedara como antes o de serie
            ){
                return console.error(`La propiedad "${prop}" solo acepta letras y epsacios en blanco `)
            }
            obj[prop] = valor;

        }
    }
// el proxy mantiene una vinculacion con el objeto original y el objeto copia mucho cuidado
    const jon = new Proxy(persona, manejador)
jon.nombre = "Jon19"
jon.apellido = "Mircha"
jon.edad =38
jon.twitter = "@jonmircha"
    console.log(jon)
    console.log(persona)
   </script> 
</body>
</html>